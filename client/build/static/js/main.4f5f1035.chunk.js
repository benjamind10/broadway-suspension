/*! For license information please see main.4f5f1035.chunk.js.LICENSE.txt */
(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{131:function(e,t,r){e.exports=r.p+"static/media/spinner.ab497855.gif"},237:function(e,t,r){e.exports=r.p+"static/media/casterplate.51db1e05.png"},238:function(e,t,r){e.exports=r.p+"static/media/e90coilover.414ecc74.png"},239:function(e,t,r){e.exports=r.p+"static/media/hero-logo.da8a2a0a.png"},244:function(e,t,r){e.exports=r.p+"static/media/shoppingcart.1f2514a6.svg"},245:function(e,t,r){e.exports=r.p+"static/media/bws-logo.82be6e02.png"},259:function(e,t,r){e.exports=r(442)},264:function(e,t,r){},269:function(e,t,r){},272:function(e,t,r){},276:function(e,t,r){},435:function(e,t,r){},436:function(e,t,r){},437:function(e,t,r){},438:function(e,t,r){},439:function(e,t,r){},440:function(e,t,r){},441:function(e,t,r){},442:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(89),c=r.n(o),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s=r(75),u=r(6),m=r(16),h=r(21),f=r(253),d=r(465),p=r(467),v=r(464),y=r(250),g=r(12),E=r(98),b=r(71),w=function(e,t){switch(t.type){case"UPDATE_PRODUCTS":return Object(u.a)(Object(u.a)({},e),{},{products:Object(b.a)(t.products)});case"UPDATE_CATEGORIES":return Object(u.a)(Object(u.a)({},e),{},{categories:Object(b.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return console.log("Switch ",t),Object(u.a)(Object(u.a)({},e),{},{currentCategory:t.currentCategory});case"ADD_TO_CART":return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(b.a)(e.cart),[t.product])});case"ADD_MULTIPLE_TO_CART":return Object(u.a)(Object(u.a)({},e),{},{cart:[].concat(Object(b.a)(e.cart),Object(b.a)(t.products))});case"REMOVE_FROM_CART":var r=e.cart.filter((function(e){return e._id!==t._id}));return Object(u.a)(Object(u.a)({},e),{},{cartOpen:r.length>0,cart:r});case"UPDATE_CART_QUANTITY":return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case"CLEAR_CART":return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!1,cart:[]});case"TOGGLE_CART":return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}};var O,x,N,j,_,L=["value"],k=Object(n.createContext)(),T=k.Provider,S=function(e){e.value;var t,r=Object(E.a)(e,L),o=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(n.useReducer)(w,t)),c=Object(g.a)(o,2),i=c[0],l=c[1];return a.a.createElement(T,Object.assign({value:[i,l]},r))},P=function(){return Object(n.useContext)(k)},A=r(237),C=r.n(A),I=r(238),R=r.n(I),G=r(239),F=r.n(G),D=(r(264),function(){return a.a.createElement("div",{className:"container hero-container pt-3"},a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement(m.b,{to:"/about",className:"col-12 col-md-6 eng-hero-img p-0"},a.a.createElement("img",{src:C.a,alt:"Engineering process"}),a.a.createElement("div",{className:"engineering-text text-center text-white p-4"},a.a.createElement("h6",{className:"desktop-text"},"Learn more about our engineering process..."))),a.a.createElement("div",{className:"hero-logo text-center"},a.a.createElement("img",{src:F.a,alt:"BWS 10 Year Anniversary"})),a.a.createElement(m.b,{to:"/about",className:"col-12 col-md-6 coil-hero-img p-0"},a.a.createElement("img",{src:R.a,alt:"Coilovers"}),a.a.createElement("div",{className:"coilover-text text-white text-center p-4"},a.a.createElement("h6",{className:"desktop-text"},"Learn more about our suspension products...")))))}),U=(r(269),function(){return a.a.createElement("div",{className:"container p-4"},a.a.createElement("h2",{className:"review-title text-center py-4"},a.a.createElement("span",null,"Where research and precision engineering meet; "),a.a.createElement("br",null),a.a.createElement("span",{className:"font-weight-bold font-italic"},"style is expected.")),a.a.createElement("div",{className:"row justify-content-around review-card-container p-4"},[{title:"Best coilovers ever made.",body:"These are by far the best coilovers I\u2019ve ever seen and ran on my cars. Worth every single penny and will definitely be running broadways on every car I can.",author:"Anonymous Verified Purchaser"},{title:"Worth Every Penny.",body:"Saying these are high quality is an understatement. Blown away at how nice they are and how nice they ride. Shipped them on Friday and I had them Sunday. Best company I\u2019ve ever dealt with. 10/10 recommend.",author:"Tyler H. Verified Purchaser"},{title:"These guys are legitimately the best.",body:"Call them up with any questions, you\u2019ll never be placed on hold... Order some coilovers, and you\u2019ll have one of the best pieces of suspension on the market from the best team available.",author:"Javan H. Verified Purchaser"}].map((function(e,t){return a.a.createElement("div",{key:t,className:"card review-card border-0"},a.a.createElement("div",{className:"card-body"},a.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"presentation",className:"icon icon-quote",viewBox:"0 0 41 35"},a.a.createElement("path",{d:"M10.208 17.711h6.124v16.332H0V21.684C0 8.184 5.444.956 16.332 0v6.125c-4.083 1.14-6.124 4.414-6.124 9.82v1.766zm24.498 0h6.124v16.332H24.498V21.684C24.498 8.184 29.942.956 40.83 0v6.125c-4.083 1.14-6.124 4.414-6.124 9.82v1.766z",fill:"#000","fill-rule":"evenodd"})),a.a.createElement("h5",{className:"card-title"},e.title),a.a.createElement("p",{className:"card-text"},e.body)),a.a.createElement("h6",{className:"card-subtitle text-muted m-2"},"- ",e.author))}))))}),q=function(){return a.a.createElement("div",{className:"container"},a.a.createElement(D,null),a.a.createElement(U,null))},Q=r(254),M=r(469),$=r(56),Y=r(466),B=Object(Y.a)(O||(O=Object($.a)(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n"]))),W=(Object(Y.a)(x||(x=Object($.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n"]))),Object(Y.a)(N||(N=Object($.a)(["\n  {\n    categories {\n      _id\n      name\n    }\n  }\n"])))),H=Object(Y.a)(j||(j=Object($.a)(["\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n"]))),V=Object(Y.a)(_||(_=Object($.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"]))),J=r(131),K=r.n(J),z=r(46),X=r(132),Z=r(456);function ee(e,t,r){return new Promise((function(n,a){var o,c,i,l=window.indexedDB.open("shop-shop",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},l.onerror=function(e){console.log("There was an error")},l.onsuccess=function(a){switch(o=l.result,c=o.transaction(e,"readwrite"),i=c.objectStore(e),o.onerror=function(e){console.log("error",e)},t){case"put":i.put(r),n(r);break;case"get":var s=i.getAll();s.onsuccess=function(){n(s.result)};break;case"delete":i.delete(r._id);break;default:console.log("No valid method")}c.oncomplete=function(){o.close()}}}))}var te=function(e){var t=e.item,r=P(),n=Object(g.a)(r,2),o=(n[0],n[1]);return a.a.createElement("div",{className:"flex-row bg-dark p-2 rounded-bottom"},a.a.createElement("div",null,a.a.createElement("img",{src:"/images/".concat(t.image),alt:""})),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("p",{className:"font-italic "},a.a.createElement("span",{className:"font-weight-bold"},t.name),": $",t.price)),a.a.createElement("div",null,a.a.createElement("span",null,"Qty:"),a.a.createElement("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var r=e.target.value;"0"===r?(o({type:"REMOVE_FROM_CART",_id:t._id}),ee("cart","delete",Object(u.a)({},t))):(o({type:"UPDATE_CART_QUANTITY",_id:t._id,purchaseQuantity:parseInt(r)}),ee("cart","put",Object(u.a)(Object(u.a)({},t),{},{purchaseQuantity:parseInt(r)})))},style:{color:"black"}}),a.a.createElement("span",{role:"img","aria-label":"trash",onClick:function(){return function(e){o({type:"REMOVE_FROM_CART",_id:e._id}),ee("cart","delete",Object(u.a)({},e))}(t)}},"\ud83d\uddd1\ufe0f"))))},re=r(242),ne=r(243),ae=r(176),oe=r.n(ae),ce=new(function(){function e(){Object(re.a)(this,e)}return Object(ne.a)(e,[{key:"getProfile",value:function(){return oe()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return oe()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),ie=r(244),le=r.n(ie);r(272);function se(){se=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(_){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),c=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=b(c,r);if(i){if(i===u)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,c),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var u={};function m(){}function h(){}function f(){}var d={};i(d,a,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(N([])));v&&v!==t&&r.call(v,a)&&(d=v);var y=f.prototype=m.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function c(){return new t((function(n,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=f,i(y,"constructor",f),i(f,"constructor",h),h.displayName=i(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),i(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(l(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},g(y),i(y,c,"Generator"),i(y,a,(function(){return this})),i(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ue=Object(X.a)("pk_test_TYooMQauvdEDq54NiTphI7jx"),me=function(){var e=P(),t=Object(g.a)(e,2),r=t[0],o=t[1],c=Object(h.f)(),i=Object(Z.a)(V),l=Object(g.a)(i,2),s=(l[0],l[1].data);function u(){o({type:"TOGGLE_CART"})}if(Object(n.useEffect)((function(){function e(){return(e=Object(z.a)(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("cart","get");case 2:t=e.sent,o({type:"ADD_MULTIPLE_TO_CART",products:Object(b.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.cart.length||function(){e.apply(this,arguments)}()}),[r.cart.length,o]),Object(n.useEffect)((function(){s&&ue.then((function(e){e.redirectToCheckout({sessionId:s.checkout.session})}))}),[s]),!r.cartOpen)return a.a.createElement("div",{className:"cart-closed",onClick:u},a.a.createElement("span",{role:"img","aria-label":"trash"},a.a.createElement("img",{className:"cart-icon",src:le.a,alt:"shopping cart"})));return a.a.createElement("div",{className:"cart cart-styles text-light"},a.a.createElement("div",{className:"close",onClick:u},a.a.createElement("h8",null,"[close]")),a.a.createElement("div",{className:"cart-header mt-4"},a.a.createElement("h2",{className:"font-italic"},"Shopping Cart")),r.cart.length?a.a.createElement("div",null,r.cart.map((function(e){return a.a.createElement(te,{key:e._id,item:e})})),a.a.createElement("div",{className:"row space-between justify-content-center text-center"},a.a.createElement("h6",{className:"col-12"},"Total: $",function(){var e=0;return r.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),ce.loggedIn()?a.a.createElement("button",{onClick:function(){c.push("/checkout")},className:"btn btn-primary m-1 col-10"},"Checkout"):a.a.createElement("span",null,a.a.createElement("h6",null,"(log in to check out)")))):a.a.createElement("h3",null,"You haven't added anything to your cart yet!"))};var he=function(){var e=P(),t=Object(g.a)(e,2),r=t[0],o=t[1],c=Object(h.g)().id,i=Object(n.useState)({}),l=Object(g.a)(i,2),s=l[0],m=l[1],f=Object(Q.b)(B),d=f.loading,p=f.data,v=r.products,y=r.cart,E=Object(h.f)();return Object(n.useEffect)((function(){v.length?m(v.find((function(e){return e._id===c}))):p?(o({type:"UPDATE_PRODUCTS",products:p.products}),p.products.forEach((function(e){ee("products","put",e)}))):d||ee("products","get").then((function(e){o({type:"UPDATE_PRODUCTS",products:e})}))}),[v,p,d,o,c]),a.a.createElement(a.a.Fragment,null,s?a.a.createElement("div",{className:"container"},a.a.createElement(M.a,{className:"mt-3",onClick:E.goBack},"\u2190 Back to Products"),a.a.createElement("h2",null,s.name),a.a.createElement("p",null,s.description),a.a.createElement("p",null,a.a.createElement("strong",null,"Price:"),"$",s.price," ",a.a.createElement("button",{className:"btn btn-success",onClick:function(){var e=y.find((function(e){return e._id===c}));e?(o({type:"UPDATE_CART_QUANTITY",_id:c,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),ee("cart","put",Object(u.a)(Object(u.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(o({type:"ADD_TO_CART",product:Object(u.a)(Object(u.a)({},s),{},{purchaseQuantity:1})}),ee("cart","put",Object(u.a)(Object(u.a)({},s),{},{purchaseQuantity:1})))}},"Add to cart"),a.a.createElement("button",{className:"btn btn-danger",disabled:!y.find((function(e){return e._id===s._id})),onClick:function(){o({type:"REMOVE_FROM_CART",_id:s._id}),ee("cart","delete",Object(u.a)({},s))}},"Remove from Cart")),a.a.createElement("img",{className:"product-detail mb-5",src:"/images/".concat(s.image),alt:s.name})):null,d?a.a.createElement("img",{src:K.a,alt:"loading"}):null,a.a.createElement(me,null))};var fe,de,pe,ve=function(e){var t=e.children;return a.a.createElement("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"}},t)},ye=function(){return a.a.createElement("div",null,a.a.createElement(ve,null,a.a.createElement("h1",null,"404 Page Not Found"),a.a.createElement("h1",null,a.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))},ge=r(90),Ee=r(458),be=Object(Y.a)(fe||(fe=Object($.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),we=Object(Y.a)(de||(de=Object($.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),Oe=Object(Y.a)(pe||(pe=Object($.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])));function xe(){xe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(_){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),c=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=b(c,r);if(i){if(i===u)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,c),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var u={};function m(){}function h(){}function f(){}var d={};i(d,a,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(N([])));v&&v!==t&&r.call(v,a)&&(d=v);var y=f.prototype=m.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function c(){return new t((function(n,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=f,i(y,"constructor",f),i(f,"constructor",h),h.displayName=i(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),i(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(l(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},g(y),i(y,c,"Generator"),i(y,a,(function(){return this})),i(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Ne=function(e){var t=Object(n.useState)({email:"",password:""}),r=Object(g.a)(t,2),o=r[0],c=r[1],i=Object(Ee.a)(be),l=Object(g.a)(i,2),s=l[0],h=l[1].error,f=function(){var e=Object(z.a)(xe().mark((function e(t){var r,n;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:{email:o.email,password:o.password}});case 4:r=e.sent,n=r.data.login.token,ce.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,r=t.name,n=t.value;c(Object(u.a)(Object(u.a)({},o),{},Object(ge.a)({},r,n)))};return a.a.createElement("div",{className:"container my-1"},a.a.createElement(m.b,{to:"/signup"},"\u2190 Go to Signup"),a.a.createElement("h2",null,"Login"),a.a.createElement("form",{onSubmit:f},a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"email"},"Email address:"),a.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:d})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"pwd"},"Password:"),a.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:d})),h?a.a.createElement("div",null,a.a.createElement("p",{className:"error-text"},"The provided credentials are incorrect")):null,a.a.createElement("div",{className:"flex-row flex-end"},a.a.createElement("button",{type:"submit"},"Submit"))))};function je(){je=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(_){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),c=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=b(c,r);if(i){if(i===u)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,c),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var u={};function m(){}function h(){}function f(){}var d={};i(d,a,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(N([])));v&&v!==t&&r.call(v,a)&&(d=v);var y=f.prototype=m.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function c(){return new t((function(n,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=f,i(y,"constructor",f),i(f,"constructor",h),h.displayName=i(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),i(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(l(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},g(y),i(y,c,"Generator"),i(y,a,(function(){return this})),i(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var _e=function(e){var t=Object(n.useState)({email:"",password:""}),r=Object(g.a)(t,2),o=r[0],c=r[1],i=Object(Ee.a)(Oe),l=Object(g.a)(i,1)[0],s=function(){var e=Object(z.a)(je().mark((function e(t){var r,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:o.email,password:o.password,firstName:o.firstName,lastName:o.lastName}});case 3:r=e.sent,n=r.data.addUser.token,ce.login(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target,r=t.name,n=t.value;c(Object(u.a)(Object(u.a)({},o),{},Object(ge.a)({},r,n)))};return a.a.createElement("div",{className:"container my-1"},a.a.createElement(m.b,{to:"/login"},"\u2190 Go to Login"),a.a.createElement("h2",null,"Signup"),a.a.createElement("form",{onSubmit:s},a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"firstName"},"First Name:"),a.a.createElement("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:h})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),a.a.createElement("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:h})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"email"},"Email:"),a.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:h})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"pwd"},"Password:"),a.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:h})),a.a.createElement("div",{className:"flex-row flex-end"},a.a.createElement("button",{type:"submit"},"Submit"))))},Le=r(97),ke=r(173),Te=r(468),Se=(r(275),r(245)),Pe=r.n(Se);r(276);var Ae=function(){var e,t,r,o,c,i,l=P(),s=Object(g.a)(l,2),u=s[0],h=s[1],f=u.categories,d=Object(Q.b)(W),p=d.loading,v=d.data;function y(){return ce.loggedIn()?a.a.createElement(Le.a,{pullRight:!0},a.a.createElement(Le.a.Item,{href:"/orderHistory",className:"nav-item"},"Order History"),a.a.createElement(Le.a.Item,{href:"/",onClick:function(){return ce.logout()},className:"nav-item"},"Logout")):a.a.createElement(Le.a,{pullRight:!0},a.a.createElement(Le.a.Item,{href:"/signup",className:"nav-item"},"Signup"),a.a.createElement(Le.a.Item,{href:"/login",className:"nav-item"},"Login"))}return Object(n.useEffect)((function(){v?(h({type:"UPDATE_CATEGORIES",categories:v.categories}),v.categories.forEach((function(e){ee("categories","put",e)}))):p||ee("categories","get").then((function(e){h({type:"UPDATE_CATEGORIES",categories:e})}))}),[v,p,h]),a.a.createElement("div",{className:"row justify-content-center nav-container"},a.a.createElement(me,null),a.a.createElement("a",{className:"col-12 col-md-2 nav-logo",href:"/"},a.a.createElement("img",{src:Pe.a,className:"nav-logo",alt:"Broadway Logo"})),a.a.createElement("div",{className:"col-12 col-md-6 desktop-nav"},a.a.createElement(ke.a,{className:"navbar",pullRight:!0},a.a.createElement(Le.a,null,a.a.createElement(Le.a.Item,{href:"/",className:"nav-item"},"Home"),a.a.createElement(Le.a.Item,{href:"/about",className:"nav-item"},"About"),a.a.createElement(m.b,{to:"/camber-plates/".concat(null===(e=f[2])||void 0===e?void 0:e._id)},a.a.createElement(Le.a.Item,{href:"/camber-plates",className:"nav-item camb-class"},"Camber Plates & Top Mounts")),a.a.createElement(Te.a,{className:"nav-item",title:"Shop by Make"},a.a.createElement(m.b,{to:"/bmw/".concat(null===(t=f[0])||void 0===t?void 0:t._id)},a.a.createElement(Te.a.Item,{href:"/bmw",className:"nav-item"},"BMW")),a.a.createElement(m.b,{to:"/volkswagen/".concat(null===(r=f[1])||void 0===r?void 0:r._id)},a.a.createElement(Te.a.Item,{href:"/audi",className:"nav-item"},"Volkswagen")))),a.a.createElement(Le.a,{pullRight:!0},y()))),a.a.createElement("div",{className:"col-12 mobile-nav"},a.a.createElement(ke.a,{className:"navbar"},a.a.createElement(Le.a,null,a.a.createElement(Te.a,{pullRight:!0,className:"nav-item",title:"Menu"},a.a.createElement(m.b,{to:"/"},a.a.createElement(Te.a.Item,{href:"/",className:"nav-item"},"Home")),a.a.createElement(m.b,{to:"/about"},a.a.createElement(Te.a.Item,{href:"/about",className:"nav-item"},"About")),a.a.createElement(m.b,{to:"/camber-plates/".concat(null===(o=f[2])||void 0===o?void 0:o._id)},a.a.createElement(Te.a.Item,{href:"/camber-plates",className:"nav-item camb-class"},"Camber Plates & Top Mounts")),a.a.createElement(m.b,{to:"/bmw/".concat(null===(c=f[0])||void 0===c?void 0:c._id)},a.a.createElement(Te.a.Item,{href:"/bmw",className:"nav-item"},"BMW")),a.a.createElement(m.b,{to:"/volkswagen/".concat(null===(i=f[1])||void 0===i?void 0:i._id)},a.a.createElement(Te.a.Item,{href:"/audi",className:"nav-item"},"Volkswagen")))),a.a.createElement(Le.a,{pullLeft:!0},y()))))};var Ce=function(){var e=Object(Q.b)(H).data;console.log(e);var t,r=Object(h.f)();return e&&(t=e.user),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container my-1"},a.a.createElement(M.a,{onClick:r.goBack},"\u2190 Back to Products"),t?a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Order History for ",t.firstName," ",t.lastName),t.orders.map((function(e){return a.a.createElement("div",{key:e._id,className:"my-2"},a.a.createElement("h3",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),a.a.createElement("div",{className:"flex-row"},e.products.map((function(e,t){var r=e._id,n=e.image,o=e.name,c=e.price;return a.a.createElement("div",{key:t,className:"card px-1 py-1"},a.a.createElement(m.b,{to:"/products/".concat(r)},a.a.createElement("img",{style:{width:"20%"},alt:o,src:"/images/".concat(n)}),a.a.createElement("p",null,o)),a.a.createElement("div",null,a.a.createElement("span",null,"$",c)))}))))}))):null))},Ie=(r(443),r(435),function(){return a.a.createElement("div",null,a.a.createElement("footer",{className:"site-footer"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-sm-12 col-md-6"},a.a.createElement("h6",null,"About"),a.a.createElement("p",{className:"text-justify"},"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, doloribus nam officia molestias at dolor, quos temporibus eius dolore neque aliquam qui magnam consequuntur, ex non provident ipsam ab voluptates.")),a.a.createElement("div",{className:"col-xs-6 col-md-3"},a.a.createElement("h6",null,"Products"),a.a.createElement("ul",{className:"footer-links"},a.a.createElement("li",null,a.a.createElement("a",{href:"/"},"Merch")),a.a.createElement("li",null,a.a.createElement("a",{href:"/"},"Springs")),a.a.createElement("li",null,a.a.createElement("a",{href:"/"},"Parts and Accessories")),a.a.createElement("li",null,a.a.createElement("a",{href:"/"},"BWS Top Hats")))),a.a.createElement("div",{className:"col-xs-6 col-md-3"},a.a.createElement("h6",null,"Quick Links"),a.a.createElement("ul",{className:"footer-links"},a.a.createElement("li",null,a.a.createElement("a",{href:"/about/"},"About Us")),a.a.createElement("li",null,a.a.createElement("a",{href:"/about"},"Contact Us")),a.a.createElement("li",null,a.a.createElement("a",{href:"/"},"Contribute")),a.a.createElement("li",null,a.a.createElement("a",{href:"http://scanfcode.com/privacy-policy/"},"Privacy Policy")),a.a.createElement("li",null,a.a.createElement("a",{href:"/"},"Sitemap")))))),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-8 col-sm-6 col-xs-12"},a.a.createElement("p",{className:"copyright-text"},"Copyright \xa9 ",(new Date).getFullYear()," All Rights Reserved")),a.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},a.a.createElement("ul",{className:"social-icons"},a.a.createElement("li",null,a.a.createElement("a",{className:"facebook",href:"/"},a.a.createElement("i",{class:"fa-brands fa-facebook-f"}))),a.a.createElement("li",null,a.a.createElement("a",{className:"twitter",href:"/"},a.a.createElement("i",{class:"fa-brands fa-twitter"}))),a.a.createElement("li",null,a.a.createElement("a",{className:"instagram",href:"/"},a.a.createElement("i",{class:"fa-brands fa-instagram"}))),a.a.createElement("li",null,a.a.createElement("a",{className:"youtube",href:"/"},a.a.createElement("i",{class:"fa-brands fa-youtube"})))))))))});function Re(){Re=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(_){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),c=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=b(c,r);if(i){if(i===u)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,c),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var u={};function m(){}function h(){}function f(){}var d={};i(d,a,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(N([])));v&&v!==t&&r.call(v,a)&&(d=v);var y=f.prototype=m.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function c(){return new t((function(n,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=f,i(y,"constructor",f),i(f,"constructor",h),h.displayName=i(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),i(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(l(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},g(y),i(y,c,"Generator"),i(y,a,(function(){return this})),i(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Ge=function(){var e=Object(Ee.a)(we),t=Object(g.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(z.a)(Re().mark((function e(){var r,n,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("cart","get");case 2:if(r=e.sent,!(n=r.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:a=e.sent,o=a.data,o.addOrder.products.forEach((function(e){ee("cart","delete",e)}));case 11:setTimeout((function(){window.location.assign("/")}),3e3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),a.a.createElement("div",null,a.a.createElement(ve,null,a.a.createElement("h1",null,"Success!"),a.a.createElement("h2",null,"Thank you for your purchase!"),a.a.createElement("h2",null,"You will now be redirected to the home page")))},Fe=(r(436),function(){return a.a.createElement("div",{class:"form-style-6"},a.a.createElement("h1",null,"Send Us A Message"),a.a.createElement("form",null,a.a.createElement("input",{required:!0,type:"text",name:"field1",placeholder:"Your Name"}),a.a.createElement("input",{required:!0,type:"email",name:"field2",placeholder:"Email Address"}),a.a.createElement("textarea",{required:!0,name:"field3",placeholder:"Type your Message"}),a.a.createElement("input",{className:"form-input",type:"submit",value:"Send"})))}),De=r(462),Ue=function(){return a.a.createElement(De.a,null,a.a.createElement("div",{className:"pt-4 accordion",id:"accordionExample"},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-header",id:"headingOne"},a.a.createElement("h2",{className:"mb-0"},a.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},"About Us"))),a.a.createElement("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionExample"},a.a.createElement("div",{className:"card-body"},"Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS."))),a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-header",id:"headingTwo"},a.a.createElement("h2",{className:"mb-0"},a.a.createElement("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"Engineering Process"))),a.a.createElement("div",{id:"collapseTwo",className:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionExample"},a.a.createElement("div",{className:"card-body"},"Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.")))))},qe=function(){return a.a.createElement("div",null,a.a.createElement(Ue,null),a.a.createElement("br",null),a.a.createElement(Fe,null))};r(437);function Qe(){Qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(_){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),c=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=b(c,r);if(i){if(i===u)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,c),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var u={};function m(){}function h(){}function f(){}var d={};i(d,a,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(N([])));v&&v!==t&&r.call(v,a)&&(d=v);var y=f.prototype=m.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function c(){return new t((function(n,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=f,i(y,"constructor",f),i(f,"constructor",h),h.displayName=i(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),i(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(l(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},g(y),i(y,c,"Generator"),i(y,a,(function(){return this})),i(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Me=function(e){e.cartItems;var t,r=e.cartTotal,o=Object(s.useStripe)(),c=Object(s.useElements)(),i=Object(Q.b)(H).data,l=Object(Ee.a)(we),u=Object(g.a)(l,1)[0];i&&(t=i.user);var m=Object(n.useState)(!1),h=Object(g.a)(m,2),f=(h[0],h[1]),d=function(){var e=Object(z.a)(Qe().mark((function e(n){var a,i,l,m;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o&&c){e.next=3;break}return e.abrupt("return");case 3:return f(!0),e.next=6,fetch("/api/create-payment-intent",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:100*r})}).then((function(e){return e.json()}));case 6:return a=e.sent,i=a.client_secret,e.next=10,o.confirmCardPayment(i,{payment_method:{card:c.getElement(s.CardElement),billing_details:{name:ce.loggedIn()?t.firstName:"Guest"}}});case 10:l=e.sent,f(!1),l.error?alert(l.error.message):"succeeded"===l.paymentIntent.status&&(m=function(){var e=Object(z.a)(Qe().mark((function e(){var t,r,n,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("cart","get");case 2:if(t=e.sent,!(r=t.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,u({variables:{products:r}});case 7:n=e.sent,a=n.data,a.addOrder.products.forEach((function(e){ee("cart","delete",e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),alert("Payment Successful!"),setTimeout((function(){window.location.assign("/")}),3e3),m());case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:d},a.a.createElement("h2",null,"Credit Card Payment:"),a.a.createElement(s.CardElement,null),a.a.createElement("button",null,"Pay Now")))},$e=(r(438),function(e){var t=e.cartItem,r=P(),n=Object(g.a)(r,2),o=(n[0],n[1]),c=t.name,i=t.image,l=t.price,s=t.purchaseQuantity;return a.a.createElement("div",{className:"checkout-item-container"},a.a.createElement("div",{className:"image-container"},a.a.createElement("img",{className:"checkout-image",src:"../../../images/".concat(i),alt:"".concat(c)})),a.a.createElement("span",{className:"name"}," ",c," "),a.a.createElement("span",{className:"quantity"},a.a.createElement("input",{className:"qty",type:"number",placeholder:"1",value:s,onChange:function(e){var r=e.target.value;"0"===r?(o({type:"REMOVE_FROM_CART",_id:t._id}),ee("cart","delete",Object(u.a)({},t))):(o({type:"UPDATE_CART_QUANTITY",_id:t._id,purchaseQuantity:parseInt(r)}),ee("cart","put",Object(u.a)(Object(u.a)({},t),{},{purchaseQuantity:parseInt(r)})))},style:{color:"black"}})),a.a.createElement("span",{className:"price"}," ",l),a.a.createElement("div",{className:"remove-button",onClick:function(){return o({type:"REMOVE_FROM_CART",_id:(e=t)._id}),void ee("cart","delete",Object(u.a)({},e));var e}},"\u2715"))}),Ye=(r(439),function(){var e=P(),t=Object(g.a)(e,2),r=t[0],o=t[1];r.cart;function c(){var e=0;return r.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}return Object(n.useEffect)((function(){o({type:"TOGGLE_CART"})}),[r.cart]),Object(n.useEffect)((function(){c()}),[r.cart]),a.a.createElement("div",{className:"checkout-container"},a.a.createElement("div",{className:"checkout-header"},a.a.createElement("div",{className:"header-block"},a.a.createElement("span",null,"Product")),a.a.createElement("div",{className:"header-block"},a.a.createElement("span",null,"Description")),a.a.createElement("div",{className:"header-block"},a.a.createElement("span",null,"Quantity")),a.a.createElement("div",{className:"header-block"},a.a.createElement("span",null,"Price")),a.a.createElement("div",{className:"header-block"},a.a.createElement("span",null,"Remove"))),r.cart.map((function(e){return a.a.createElement($e,{key:e._id,cartItem:e})})),a.a.createElement("div",{className:"total"},"TOTAL: $",c()),a.a.createElement(Me,{cartItems:r.cart,cartTotal:c()}))});r(440);var Be=function(e){var t=e.image,r=e.name,n=e._id,o=e.price,c=e.quantity,i=e.description,l=P(),s=Object(g.a)(l,2),h=s[0],f=s[1],d=h.cart;return a.a.createElement("div",{className:"card mb-5",style:{width:"18rem"}},a.a.createElement(m.b,{className:"text-center",to:"/products/".concat(n)},a.a.createElement("img",{src:"/images/".concat(t),className:"card-img-top",alt:"product card"})),a.a.createElement("div",{className:"card-body"},a.a.createElement("h5",{className:"card-title"},r),a.a.createElement("p",{className:"card-text"},i),a.a.createElement("br",null),a.a.createElement("div",null,c," ",function(e,t){return 1===t?e:e+"s"}("item",c)," in stock"),a.a.createElement("div",null,a.a.createElement("span",null,"$",o)),a.a.createElement("br",null),a.a.createElement("button",{className:"btn btn-success",variant:"primary",onClick:function(){var t=d.find((function(e){return e._id===n}));t?(f({type:"UPDATE_CART_QUANTITY",_id:n,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),ee("cart","put",Object(u.a)(Object(u.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(f({type:"ADD_TO_CART",product:Object(u.a)(Object(u.a)({},e),{},{purchaseQuantity:1})}),ee("cart","put",Object(u.a)(Object(u.a)({},e),{},{purchaseQuantity:1})))}},"Add to cart")))};var We=function(e){var t=e.id,r=P(),o=Object(g.a)(r,2),c=o[0],i=o[1],l=t,s=Object(Q.b)(B),u=s.loading,m=s.data;return Object(n.useEffect)((function(){m?(i({type:"UPDATE_PRODUCTS",products:m.products}),m.products.forEach((function(e){ee("products","put",e)}))):u||ee("products","get").then((function(e){i({type:"UPDATE_PRODUCTS",products:e})}))}),[m,u,i]),a.a.createElement("div",{className:"my-2"},a.a.createElement("h2",null,"Our Products:"),c.products.length?a.a.createElement("div",{className:"row justify-content-center"},(l?c.products.filter((function(e){return e.category._id===l})):c.products).map((function(e){return a.a.createElement(Be,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity,description:e.description})}))):a.a.createElement("h3",null,"You haven't added any products yet!"),u?a.a.createElement("img",{src:K.a,alt:"loading"}):null)},He=function(){var e=Object(h.g)().id;return a.a.createElement(De.a,null,a.a.createElement("div",{className:"row justify-content-around"},a.a.createElement(We,{id:e})))},Ve=Object(f.a)({uri:"/graphql"}),Je=Object(y.a)((function(e,t){var r=t.headers,n=localStorage.getItem("id_token");return{headers:Object(u.a)(Object(u.a)({},r),{},{authorization:n?"Bearer ".concat(n):""})}})),Ke=new d.a({link:Je.concat(Ve),cache:new p.a});var ze=function(){return a.a.createElement(v.a,{client:Ke},a.a.createElement(m.a,null,a.a.createElement("div",{className:"main-body"},a.a.createElement(S,null,a.a.createElement(Ae,null),a.a.createElement(h.c,null,a.a.createElement(h.a,{exact:!0,path:"/success",component:Ge}),a.a.createElement(h.a,{exact:!0,path:"/",component:q}),a.a.createElement(h.a,{exact:!0,path:"/login",component:Ne}),a.a.createElement(h.a,{exact:!0,path:"/signup",component:_e}),a.a.createElement(h.a,{exact:!0,path:"/bmw/:id",component:He}),a.a.createElement(h.a,{exact:!0,path:"/volkswagen/:id",component:He}),a.a.createElement(h.a,{exact:!0,path:"/about",component:qe}),a.a.createElement(h.a,{exact:!0,path:"/checkout",component:Ye}),a.a.createElement(h.a,{exact:!0,path:"/camber-plates/:id",component:He}),a.a.createElement(h.a,{exact:!0,path:"/orderHistory",component:Ce}),a.a.createElement(h.a,{exact:!0,path:"/products/:id",component:he}),a.a.createElement(h.a,{component:ye})),a.a.createElement(Ie,null)))))},Xe=Object(X.a)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STRIPE_PUBLISHABLE_KEY);r(441);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(s.Elements,{stripe:Xe},a.a.createElement(ze,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()}},[[259,1,2]]]);
//# sourceMappingURL=main.4f5f1035.chunk.js.map